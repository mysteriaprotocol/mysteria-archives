<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RECOVERED LORE — FILE ARCHIVE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
/* ----------------------- */
/* CORE VARIABLES & RESET  */
/* ----------------------- */
* { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg: #020308;
  --text-main: #eaeaea;
  --text-muted: #9d9d9d;
  --accent: #f55;
  --accent2: #0ff;
  --glow: rgba(245,85,85,0.55);
  --glow2: rgba(0,255,255,0.35);
  --border-soft: rgba(255,255,255,0.12);
  --card-radius: 16px;
}

/* ----------------------- */
/* BACKGROUND + CRT NOISE  */
/* ----------------------- */
body {
  background: radial-gradient(circle at 20% 0%, #1b1b2c 0%, #020308 55%, #000 100%);
  color: var(--text-main);
  font-family: "Courier New", monospace;
  min-height: 100vh;
  padding: 40px 20px 30px;
  display: flex;
  justify-content: center;
  overflow-x: hidden;
  position: relative;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.05) 0px,
    rgba(255,255,255,0.05) 1px,
    transparent 1px,
    transparent 3px
  );
  opacity: 0.14;
  z-index: 2;
}

/* Noise layer */
.noise {
  position: fixed;
  inset: -140px;
  opacity: 0.23;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 160 160' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.1' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.35'/%3E%3C/svg%3E");
  animation: drift 30s linear infinite;
  z-index: 0;
}

@keyframes drift {
  from { transform: translate3d(0,0,0); }
  to   { transform: translate3d(-160px,-160px,0); }
}

/* Floating glitch fragments */
.glitch-sprite {
  position: fixed;
  width: 18px;
  height: 8px;
  background: linear-gradient(90deg, #f55, #0ff);
  opacity: 0.2;
  mix-blend-mode: screen;
  animation: floatShard 6s infinite linear;
  z-index: 1;
  filter: blur(2px);
}

@keyframes floatShard {
  0%   { transform: translateY(0) translateX(0); opacity: 0.15; }
  50%  { transform: translateY(-60px) translateX(40px); opacity: 0.25; }
  100% { transform: translateY(-120px) translateX(80px); opacity: 0; }
}

/* ----------------------- */
/* BREADCRUMB + AUDIO      */
/* ----------------------- */
.breadcrumb-bar {
  position: fixed;
  top: 0; left: 0; right: 0;
  padding: 10px 18px;
  background: rgba(12,12,20,0.75);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(255,255,255,0.12);
  z-index: 9999;
  display: flex;
  gap: 8px;
  font-size: 0.75rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
}
.crumb { color: #eee; }
.current { color: #f88; }
.sep { color: #666; }

/* AUDIO TOGGLE */
.audio-toggle {
  position: fixed;
  top: 46px; right: 18px;
  z-index: 10000;
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  opacity: 0.9;
}
.audio-label {
  font-size: 0.7rem;
  letter-spacing: 0.15em;
  color: #ddd;
}
.slider-bg {
  width: 38px; height: 12px;
  background: #222;
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.2);
  position: relative;
}
.slider-knob {
  width: 14px; height: 14px;
  background: #555;
  border-radius: 50%;
  position: absolute;
  top: -1px; left: 0;
  transition: 0.25s;
}
.audio-toggle.active .slider-knob {
  left: 22px;
  background: #f55;
  box-shadow: 0 0 10px #f55;
}

/* ----------------------- */
/* CORE CONTAINER          */
/* ----------------------- */
.shell {
  position: relative;
  z-index: 5;
  width: 100%;
  max-width: 1100px;
  margin-top: 70px;
  padding: 40px 30px 30px;
  border-radius: 24px;
  background: linear-gradient(to bottom right, #090912, #05050b);
  border: 1px solid var(--border-soft);
  box-shadow: 
    0 0 40px rgba(0,0,0,0.7),
    inset 0 0 20px rgba(255,255,255,0.03);
}

/* Optimized sweep layer */
.shell::before {
  content: "";
  position: absolute;
  inset: -40px;
  background: linear-gradient(160deg,
    rgba(245,85,85,0.13),
    transparent 35%,
    rgba(0,255,200,0.18),
    transparent 80%
  );
  animation: sweepGlow 10s infinite linear;
  opacity: 0;
  pointer-events: none;
}
@keyframes sweepGlow {
  45% { opacity: 1; }
}

/* ----------------------- */
/* TITLES                  */
/* ----------------------- */
.title {
  font-size: 1.6rem;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.25em;
  margin-bottom: 8px;
  color: #fff;
  animation: titlePulse 5s infinite;
}

@keyframes titlePulse {
  0%, 92%, 100% {
    text-shadow: 0 0 10px var(--glow), 0 0 20px var(--glow2);
  }
  94% {
    opacity: 0.7;
    text-shadow: 0 0 6px #f55;
  }
  96% {
    opacity: 0.45;
    text-shadow: 0 0 10px #0ff;
  }
  98% {
    opacity: 0.8;
    text-shadow: 0 0 14px #f55;
  }
}

.sub {
  text-align: center;
  font-size: 0.88rem;
  color: var(--text-muted);
  margin-bottom: 28px;
  letter-spacing: 0.18em;
}

/* ----------------------- */
/* GRID OF FILE CARDS      */
/* ----------------------- */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px,1fr));
  gap: 24px;
}

/* Base card */
.file-card {
  position: relative;
  padding: 22px;
  border-radius: var(--card-radius);
  background: linear-gradient(to bottom right, #0b0b15, #060612);
  border: 1px solid rgba(255,255,255,0.12);
  color: var(--text-main);
  text-decoration: none;
  transition: 0.2s ease;
  box-shadow: inset 0 0 12px rgba(255,255,255,0.04);
}
.file-card:hover {
  border-color: var(--accent);
  box-shadow: 0 0 16px var(--glow);
  transform: translateY(-4px);
}

/* Danger / Forbidden file */
.danger {
  border-color: rgba(255,60,90,0.45);
  box-shadow:
    0 0 14px rgba(255,60,90,0.35),
    inset 0 0 18px rgba(255,70,70,0.10);
}
.danger:hover {
  box-shadow:
    0 0 22px rgba(255,50,80,0.55),
    inset 0 0 24px rgba(255,70,70,0.15);
  transform: translateY(-5px);
}

/* Danger screen static */
.danger::after {
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(255,40,70,0.09) 0px,
    rgba(255,40,70,0.09) 2px,
    transparent 2px,
    transparent 4px
  );
  mix-blend-mode: overlay;
  opacity: 0.22;
  animation: staticPulse 1.3s infinite;
}
@keyframes staticPulse {
  0%,100% { opacity: 0.22; }
  50%     { opacity: 0.34; }
}

.file-label {
  font-size: 0.75rem;
  color: #f99;
  letter-spacing: 0.18em;
  margin-bottom: 6px;
  text-transform: uppercase;
}
.file-title {
  font-size: 1.05rem;
  text-transform: uppercase;
  letter-spacing: 0.18em;
  margin-bottom: 12px;
}
.file-desc {
  font-size: 0.83rem;
  color: var(--text-muted);
  line-height: 1.45;
  margin-bottom: 16px;
}

/* ----------------------- */
/* PROGRESS BARS           */
/* ----------------------- */
.progress-wrap { margin-top: 10px; }

.progress-text {
  font-size: 0.75rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin-bottom: 3px;
  color: #ccc;
}

.progress-bar {
  width: 100%;
  height: 6px;
  background: #111;
  border-radius: 6px;
  overflow: hidden;
}

/* Normal fill */
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #f55, #ff8899);
  width: 0%;
  box-shadow: 0 0 6px #f55;
}

/* Corrupted */
.corrupt {
  height: 100%;
  width: 100%;
  background: linear-gradient(90deg, #ff2e55, #ff99bb);
  animation: corruptBlink 1.7s infinite ease-in-out;
  box-shadow: 0 0 12px rgba(255,60,90,0.7);
}

@keyframes corruptBlink {
  0%   { opacity: 0.9; filter: blur(0.4px); }
  50%  { opacity: 0.4; filter: blur(1.2px); }
  100% { opacity: 1; filter: blur(0.4px); }
}

/* ----------------------- */
/* FIXED BOTTOM LINK       */
/* ----------------------- */
.back-link-lore {
  display: block;
  margin-top: 26px;
  text-align: center;
  color: var(--text-main);
  opacity: 0.75;
  font-size: 0.86rem;
  text-decoration: none;
}
.back-link-lore:hover {
  opacity: 1;
  text-decoration: underline dotted;
}
</style>
</head>

<body>

<!-- Breadcrumb -->
<div class="breadcrumb-bar">
  <span class="crumb">MYSTERIA ARCHIVES</span>
  <span class="sep">&gt;</span>
  <span class="crumb">LORE</span>
  <span class="sep">&gt;</span>
  <span class="crumb current">INDEX</span>
</div>

<!-- Audio Toggle -->
<div class="audio-toggle">
  <div class="slider-bg"><div class="slider-knob"></div></div>
  <span class="audio-label">AUDIO</span>
</div>

<!-- Noise layers -->
<div class="noise"></div>
<div class="glitch-sprite" style="left:12%; top:72%; animation-delay:0s;"></div>
<div class="glitch-sprite" style="left:68%; top:82%; animation-delay:1.4s;"></div>
<div class="glitch-sprite" style="left:30%; top:52%; animation-delay:2.1s;"></div>
<div class="glitch-sprite" style="left:80%; top:40%; animation-delay:0.7s;"></div>

<main class="shell">

  <div class="title">Recovered Lore</div>
  <div class="sub">Primary Archive — Dossier Index</div>

  <section class="grid">

    <!-- FILE 001 -->
    <a href="archives-artifacts-diary.html" class="file-card">
      <div class="file-label">FILE 001</div>
      <div class="file-title">Diary of the Mysta</div>
      <div class="file-desc">
        Fragmented journals and historical records written by the ancient Mysta.
      </div>
      <div class="progress-wrap">
        <div class="progress-text">Progress: 0 / 10</div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 0%;"></div>
        </div>
      </div>
    </a>

    <!-- FILE 002 -->
    <a href="archives-artifacts-lifestyle.html" class="file-card">
      <div class="file-label">FILE 002</div>
      <div class="file-title">Lifestyle Lore</div>
      <div class="file-desc">
        Culture, rituals, tools, beliefs and everyday principles of the Mysta civilization.
      </div>
      <div class="progress-wrap">
        <div class="progress-text">Progress: 0 / 9</div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 0%;"></div>
        </div>
      </div>
    </a>

    <!-- FILE 003 -->
    <a href="archives-artifacts-forbidden.html" class="file-card danger">
      <div class="file-label">FILE 003</div>
      <div class="file-title">Forbidden Lore</div>
      <div class="file-desc">
        Classified records, redacted fragments and Unknowns-influenced material.
      </div>
      <div class="progress-wrap">
        <div class="progress-text">Progress: UNKNOWN</div>
        <div class="progress-bar">
          <div class="corrupt"></div>
        </div>
      </div>
    </a>

  </section>

  <a href="mysteria-archives.html" class="back-link-lore">← Back to Archives Hub</a>

</main>

<script>
(function() {
  const toggle = document.querySelector(".audio-toggle");
  if (!toggle) return;
  let enabled = false;
  let player = null;

  toggle.addEventListener("click", () => {
    enabled = !enabled;
    toggle.classList.toggle("active", enabled);

    if (enabled) {
      if (!player) {
        player = new Audio("audio/mysteria_ambience_01.mp3");
        player.loop = true;
        player.volume = 0.25;
      }
      player.play().catch(() => {});
    } else {
      if (player) player.pause();
    }
  });
})();
</script>

</body>
</html>
